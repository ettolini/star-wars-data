(this["webpackJsonpstar-wars-api"]=this["webpackJsonpstar-wars-api"]||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(4),c=n.n(r),s=n(8),i=n(5),o=n(6),h=n(2),l=n(9),u=n(7),d=n(0);var j=function(){return Object(d.jsx)("div",{class:"header",children:Object(d.jsx)("h1",{children:"Star Wars Character Data"})})};var f=function(e){return"LOADING..."===e.text&&Object(d.jsx)("img",{src:"https://thumbs.gfycat.com/InnocentPleasedAmericangoldfinch-max-1mb.gif",alt:"this slowpoke moves",class:"loadingGif"})};var v=function(e){var t=e.text.map((function(e,t){return Object(d.jsx)("li",{children:e},t)}));return Object(d.jsx)("ul",{children:t})};var b=function(e){var t=e.item.characters.map((function(e,t){return Object(d.jsx)("option",{value:t,children:e.name},t)}));return Object(d.jsxs)("div",{children:[Object(d.jsxs)("select",{onChange:e.handleChange,children:[Object(d.jsx)("option",{value:"",children:"-- Choose a character --"}),t]}),Array.isArray(e.item.text)?Object(d.jsx)(v,{text:e.item.text}):Object(d.jsx)(f,{text:e.item.text})]})},g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).state={url:{},characters:[],movies:[],text:""},e.getPeople=e.getPeople.bind(Object(h.a)(e)),e.getFilms=e.getFilms.bind(Object(h.a)(e)),e.handleChange=e.handleChange.bind(Object(h.a)(e)),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({text:"LOADING..."}),fetch("https://swapi.dev/api/").then((function(e){return e.json()})).then((function(t){e.setState({url:t}),e.getPeople(e.state.url.people)}))}},{key:"getPeople",value:function(e){var t=this;try{fetch(e).then((function(e){return e.json()})).then((function(e){t.setState({characters:e.results}),t.getFilms(t.state.url.films)}))}catch(n){console.log("An unexpected error has occurred when fetching character basic data.")}}},{key:"getFilms",value:function(e){var t=this;try{fetch(e).then((function(e){return e.json()})).then((function(e){t.setState({movies:e.results,text:""})}))}catch(n){console.log("An unexpected error has occurred when fetching movie data.")}}},{key:"handleChange",value:function(e){try{var t,n=this.state.movies,a=this.state.characters[e.target.value],r=a.films,c=["Height: "+a.height,"Mass: "+a.mass,"Hair color: "+a.hair_color,"Skin color: "+a.skin_color,"Eye color: "+a.eye_color,"Birth year: "+a.birth_year,"Gender: "+a.gender,"Featured movies: "],i=Object(s.a)(r);try{for(i.s();!(t=i.n()).done;)for(var o=t.value,h=1;h<=n.length;h++)o[o.length-2]===h.toString()&&c.push('"'+n[h-1].title+'"')}catch(l){i.e(l)}finally{i.f()}this.setState({text:c})}catch(u){this.setState({text:""})}}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(j,{}),Object(d.jsx)(b,{handleChange:this.handleChange,item:this.state})]})}}]),n}(a.Component);c.a.render(Object(d.jsx)(g,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.6dd185b3.chunk.js.map